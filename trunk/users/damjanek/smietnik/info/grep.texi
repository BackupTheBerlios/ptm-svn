%& -translate-file=il2-pl
\def\fontprefix{pl}
\input texinfo  @c -*-texinfo-*-
@c %**start of header
@setfilename grep.info
@settitle grep, wypisywanie linii pasujących do wzorca
@documentencoding ISO-8859-2
@documentlanguage pl
@c %**end of header

@c This file has the new style title page commands.
@c Run `makeinfo' rather than `texinfo-format-buffer'.

@c WK zmieniono: @command{} -> @code{}

@c smallbook

@c tex
@c \overfullrule=0pt
@c end tex

@c @include version.texi
@set UPDATED 2 lutego 2000
@set EDITION 2.4.2
@set VERSION 2.4.2

@c nowy skorowidz - dla opcji
@defcodeindex op

@c połączenie skorowidzów
@syncodeindex op fn
@syncodeindex vr fn

@syncodeindex ky cp
@syncodeindex pg cp
@syncodeindex tp cp

@ifinfo
@direntry
* grep: (grep).                   Wypisywanie linii pasujących do wzorca.
@end direntry
Ten plik dokumentuje @code{grep}, mechanizm dopasowywania wzorców.


Published by the Free Software Foundation,
59 Temple Place - Suite 330
Boston, MA 02111-1307, USA

Copyright 2000 Free Software Foundation, Inc.

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.

@ignore
Permission is granted to process this file through TeX and print the
results, provided the printed document carries copying permission
notice identical to this one except for the removal of this paragraph
(this paragraph not being relevant to the printed manual).

@end ignore
Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the entire
resulting derived work is distributed under the terms of a permission
notice identical to this one.

Permission is granted to copy and distribute translations of this manual
into another language, under the above conditions for modified versions,
except that this permission notice may be stated in a translation approved
by the Foundation.
@end ifinfo

@setchapternewpage off

@titlepage
@title grep, wyszukiwanie wzorca
@subtitle wersja @value{VERSION}, @value{UPDATED}
@author Alain Magloire et al.

@page
@vskip 0pt plus 1filll
Copyright @copyright{} 2000 Free Software Foundation, Inc.

@sp 2
Published by the Free Software Foundation, @*
59 Temple Place - Suite 330, @*
Boston, MA 02111-1307, USA

Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.

Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the entire
resulting derived work is distributed under the terms of a permission
notice identical to this one.

Permission is granted to copy and distribute translations of this manual
into another language, under the above conditions for modified versions,
except that this permission notice may be stated in a translation approved
by the Foundation.

@end titlepage
@page


@ifinfo
@node Top, Od tłumacza, (dir), (dir)
@top Grep

@code{grep} wyszukuje linie pasujące do zadanego wzorca.

Ten dokument przygotowano do wersji @value{VERSION} @sc{gnu} @code{grep}.
@end ifinfo

@menu
* Od tłumacza::                 Parę słów od tłumacza.
* Wprowadzenie::                Wprowadzenie.
* Wywołanie::                   Wywołanie @code{grep}; opis opcji.
* Diagnostyka::                 Kod zakończenia zwracany przez @code{grep}.
* Programy grep::               Programy @code{grep}.
* Wyrażenia regularne::         Wyrażenia regularne.
* Sposób użycia::               Przykłady.
* Błędy::                       Błędy i ich zgłaszanie.
* Indeks pojęć::                Menu wszystkich tematów podręcznika.
* Indeks::                      Menu wszystkich poleceń i opcji @code{grep}.
@end menu

@node Od tłumacza
@unnumbered Od tłumacza
Niniejszy przekład powstał w ramach Projektu Tłumaczenia Manuali
(@uref{http://ptm.linux.pl/})
i stanowi zaktualizowaną wersję tłumaczenia podręcznika systemowego
man, które wykonał Gwidon S. Naskrent (@email{naskrent@@hoth.amu.edu.pl)}.
Mam nadzieję, że wybaczy mi powstałe przy okazji przeoczenia i usterki.

Zgłoszenia błędów, komentarze i sugestie
proszę przesyłać na listę dyskusyjną Projektu: @email{ptm@@amg.net.pl}.

W.Kotwica (@email{wkotwica@@post.pl})

@unnumberedsec Rozpowszechnianie
To jest nieoficjalne tłumaczenie warunków rozpowszechniania na język polski.
Nie zostało ono opublikowane przez Free Software Foundation
i pod względem prawnym nie stanowi warunków rozpowszechniania -- ustanawia
je wyłącznie oryginalny tekst angielski.  Jednak tłumacz ma nadzieję, że
pomoże ono lepiej zrozumieć warunki rozpowszechniania osobom mówiącym
po polsku.

This is an unofficial translation of the distribution terms into
Polish language. It was not published by the Free Software Foundation, and
does not legally state the distribution terms--only the original English text
does that. However, the translator hopes that it will help Polish language
speakers understand distribution terms better.

Zezwala się na tworzenie i rozpowszechnianie wiernych kopii
tego podręcznika, pod warunkiem, że na wszystkich kopiach zostanie zachowana
informacja o prawach autorskich i niniejsze zezwolenie.

Zezwala się na kopiowanie i rozpowszechnianie zmienionych wersji
tego podręcznika na warunkach jak dla wiernych kopii, pod warunkiem, że
cała praca pochodna będzie rozpowszechniana na warunkach zezwolenia
identycznego jak niniejsze.

Zezwala się na kopiowanie i rozpowszechnianie tłumaczeń tego
podręcznika na inny język, pod wyżej podanymi warunkami dla zmienionych
wersji, z wyjątkiem tego, że niniejsze zezwolenie może być ustanowione
w tłumaczeniu zaakceptowanym przez Fundację.


@node Wprowadzenie
@chapter Wprowadzenie

@cindex szukanie wzorca

@code{grep} szuka w plikach wejściowych linii zawierających ciąg
pasujący do zadanej listy wzorców. Po znalezieniu dopasowania, kopiuje
zawierającą je linię na standardowe wyjście (domyślnie) lub wykonuje
innego rodzaju akcję wynikową nakazaną za pomocą opcji.

Mimo że @code{grep} oczekuje, że będzie dopasowywał tekst, nie ma
innych ograniczeń długości linii wejściowej niż dostępna pamięć,
i potrafi dopasowywać dowolne znaki z linii. Jeśli ostatnim bajtem
pliku wejściowego nie jest znak nowej linii, @code{grep} milcząco
dokłada go.
Ponieważ znak nowej linii jest także separatorem listy wzorców, nie
ma możliwości dopasowywania znaków nowej linii w tekście.

@node Wywołanie
@chapter Wywołanie @code{grep}

@code{grep} jest wyposażony w bogaty zestaw opcji z rozszerzeniami
@sc{posix.2} i @sc{gnu}.

@table @samp

@item -c
@itemx --count
@opindex -c
@opindex -count
@cindex zliczanie linii
Wyłącza normalne wyjście; zamiast niego dla każdego pliku wejściowego
wypisuje liczbę pasujących linii. Z opcją @samp{-v}, @samp{--invert-match}
zlicza linie niepasujące.

@item -e @var{wzorzec}
@itemx --regexp=@var{wzorzec}
@opindex -e
@opindex --regexp=@var{wzorzec}
@cindex lista wzorców
Używa @var{wzorca} jako wzorca; użyteczne do ochronienia wzorów
zaczynających się od @samp{-}.

@item -f @var{plik}
@itemx --file=@var{plik}
@opindex -f
@opindex --file
@cindex wzorzec z pliku
Pobiera wzorce z @var{pliku}, po jednym z każdej linii.  Plik pusty zawiera
zero wzorców, nie pasując do niczego.

@item -i
@itemx --ignore-case
@opindex -i
@opindex --ignore-case
@cindex wyszukiwanie bez rozróżniania wielkości liter
@cindex bez rozróżniania wielkości liter
Ignoruje rozróżnienia w wielkości liter we wzorcu oraz w plikach wejściowych.

@item -l
@itemx --files-with-matches
@opindex -l
@opindex --files-with-matches
@cindex nazwy pasujących plików
Wyłącza normalne wyjście; zamiast niego wypisuje nazwę każdego pliku,
z którego normalnie wypisano by jakieś wyjście.  Przeszukiwanie
zakończy się na pierwszej pasującej linii.

@item -n
@itemx --line-number
@opindex -n
@opindex --line-number
@cindex numerowanie linii
@cindex linie, numerowanie
Poprzedza każdą linię wyjścia numerem linii z odpowiedniego pliku
wejściowego.

@item -q
@itemx --quiet
@itemx --silent
@opindex -q
@opindex --quiet
@opindex --silent
@cindex po cichu
Po cichu; wyłącza normalne wyjście.  Przeszukiwanie zakończy się na
pierwszej pasującej linii. Zobacz także opcja @samp{-s} lub
@samp{--no-messages}.

@item -s
@itemx --no-messages
@opindex -s
@opindex --no-messages
@cindex wyłączenie komunikatów o błędach
Wyłącza komunikaty błędów o plikach nieistniejących lub nie do odczytania.
Uwaga o przenośności: w przeciwieństwie do @sc{gnu} @code{grep},
tradycyjny @code{grep} nie był zgodny z @sc{posix.2}, gdyż brakowało
mu opcji @samp{-q}, a opcja @samp{-s} zachowywała się jak opcja @samp{-q}
z @sc{gnu} @code{grep}. Skrypty powłoki, które mają być przenośne na
tradycyjny @code{grep} powinny unikać zarówno @samp{-q}, jak i @samp{-s}
i zamiast tego przekierowywać wyjście do @file{/dev/null}.

@item -v
@itemx --invert-match
@opindex -v
@opindex --invert-match
@cindex odwrócenie dopasowania
@cindex wypisywanie niepasujących linii
Odwraca sens dopasowania, wybiera linie niepasujące.

@item -x
@itemx --line-regexp
@opindex -x
@opindex --line-regexp
@cindex dopasowanie całej linii
Wybiera tylko te dopasowania, które dokładnie pasują do całej linii.

@end table

@section Rozszerzenia @sc{gnu}

@table @samp

@item -A @var{num}
@itemx --after-context=@var{num}
@opindex -A
@opindex --after-context
@cindex kontekst, linie po dopasowaniu
Wypisuje po pasujących liniach @var{num} linii następującego kontekstu.

@item -B @var{num}
@itemx --before-context=@var{num}
@opindex -B
@opindex --before-context
@cindex kontekst, linie przed dopasowaniem
Wypisuje przed pasującymi liniami @var{num} linii poprzedzającego je
kontekstu.

@item -C @var{num}
@itemx --context=[@var{num}]
@opindex -C
@opindex --context
@cindex kontekst
Wypisuje @var{num} linii (domyślnie 2) kontekstu w wyjściu.

@item -@var{num}
@opindex -NUM
To samo, co @samp{--context=@var{num}} linii kontekstu przed i po dopasowaniu.
Jednak @code{grep} nigdy nie wypisze żadnej z linii więcej niż raz.

@item -V
@itemx --version
@opindex -V
@opindex --version
@cindex wersja, wypisanie
Wypisuje numer wersji @code{grep} na standardowe wyjście błędów.
Numer wersji powinno się załączać we wszystkich zgłoszeniach błędów.

@item --help
@opindex --help
@cindex sposób użycia, wypisanie
Wypisuje komunikat o sposobie użycia, pokrótce wymieniający omawiane opcje
wiersza poleceń i wskazujący adres do zgłoszeń błędów, a następnie kończy
działanie.

@itemx --binary-files=@var{typ}
@opindex --binary-files
@cindex pliki binarne
@cindex binarne pliki
Jeśli pierwszych kilka bajtów pliku wskazuje, że zawiera on dane binarne, to
zakładane jest, że jest to plik typu @var{typ}. Domyślnym @var{typem} jest
binarny (@samp{binary}), a @code{grep} normalnie albo wypisuje
jednolinijkowy komunikat mówiący o dopasowaniu pliku binarnego, albo nie
wypisuje komunikatu, gdy nie znaleziono dopasowania.
Jeżeli @var{typem} jest @samp{without-match} (bez dopasowania), to
@code{grep} zakłada, że ten plik binarny nie pasuje; jest to równoważne
działaniu opcji @samp{-I}. Jeśli @var{typem} jest @samp{text}, to
@code{grep} przetwarza plik binarny tak, jakby był on tekstowy;
jest to równoważne opcji @samp{\-a}.

@emph{Ostrzeżenie:}
Może się zdarzyć, że wypisane przez @samp{--binary-files=text} śmiecie
binarne dadzą przykre skutki uboczne jeżeli wyjściem będzie terminal
a jego sterownik zinterpretuje niektóre z nich jako swoje polecenia. 

@item -b
@itemx --byte-offset
@opindex -b
@opindex --byte-offset
@cindex offset bajtowy
@cindex bajt, offset
Wypisuje przed każdą linią wyjścia jej offset bajtowy w pliku wejściowym.
Gdy @code{grep} uruchamiany jest w @sc{ms-dos} lub MS-Windows, wypisywane
offsety bajtowe zależą od tego, czy użyto opcji @samp{-u}
(@samp{--unix-byte-offsets}); zobacz niżej.

@item -d @var{akcja}
@itemx --directories=@var{akcja}
@opindex -d
@opindex --directories
@cindex przeszukiwanie katalogów
Jeśli plik wejściowy jest katalogiem, stosuje to jego przetworzenia
@var{akcję}.  Domyślną @var{akcją} jest @samp{read}, co znaczy, że katalogi
są czytane dokładnie tak samo, jakby były zwykłymi plikami (niektóre systemy
operacyjne i systemy plików nie pozwalają na takie działanie, co spowoduje,
że @code{grep} dla każdego katalogu będzie wypisywał komunikaty o błędzie).
Jeśli wartością @var{akcji} jest @samp{skip}, to katalogi są milcząco
pomijane.  Jeśli wartością @var{akcji} jest @samp{recurse}, to @code{grep}
czyta wszystkie pliki pod każdym katalogiem, rekurencyjnie; jest to
równoważne opcji @samp{-r}.

@item -H
@itemx --with-filename
@opindex -H
@opindex --With-filename
@cindex z poprzedzeniem nazwą pliku
Dla każdego dopasowania wypisuje nazwę pliku.

@item -h
@itemx --no-filename
@opindex -h
@opindex --no-filename
@cindex bez poprzedzania nazwą pliku
Wyłącza poprzedzanie wyników nazwami plików podczas przeszukiwania
wielu plików.

@item -L
@itemx --files-without-match
@opindex -L
@opindex --files-without-match
@cindex pliki, które nie pasują
Wyłącza normalne wyjście; zamiast niego wypisuje nazwę każdego pliku,
z którego normalnie nie wypisano by żadnego wyjścia.  Przeszukiwanie
zakończy się na pierwszej pasującej linii.

@item -a
@itemx --text
@opindex -a
@opindex --text
@cindex pomijanie danych binarnych
@cindex binarne pliki
@cindex pliki binarne
Przetwarza plik binarny tak, jakby był on tekstowy; jest to równoważnik
opcji @samp{--binary-files=text}.

@item -I
Przetwarza plik binarny tak, jakby nie zawierał on pasujących danych; jest
to równoważne opcji @samp{--binary-files=without-match}.

@item -w
@itemx --word-regexp
@opindex -w
@opindex --word-regexp
@cindex dopasowywanie całych wyrazów
Wybiera tylko te linie, w których dopasowania wzorca tworzą całe wyrazy.
Przeprowadzany test polega na tym, że dopasowywany podciąg musi albo 
znajdować się na początku linii, albo być poprzedzony znakiem nie
tworzącym wyrazu.  Podobnie, musi albo znajdować się na końcu linii,
albo musi następować po nim znak nie tworzący słowa.  Znakami tworzącymi
wyrazy są litery, cyfry i znak podkreślenia.

@item -r
@itemx --recursive
@opindex -r
@opindex --recursive
@cindex rekurencyjne, przeszukiwanie
@cindex przeszukiwanie drzew katalogów
Dla każdego katalogu wymienionego w wierszu poleceń, rekurencyjnie czyta
i przetwarza wszystkie jego pliki.
Jest to to samo, co opcja @samp{-d recurse}.

@item -y
@opindex -y
@cindex bez rozróżniania wielkości liter, przestarzała opcja
Przestarzały synonim @samp{-i}.

@item -U
@itemx --binary
@opindex -U
@opindex --binary
@cindex DOS/Windows, pliki binarne
@cindex pliki binarne, DOS/Windows
Traktuje pliki jako binarne.  Domyślnie, w @sc{ms-dos} i MS-Windows,
@code{grep} zgaduje typ pliku spoglądając na zawartość pierwszych
32 kB przeczytanych z pliku.  Jeśli zdecyduje, że plik jest tekstowy,
usuwa znaki CR z oryginalnej zawartości pliku (po to żeby wyrażenia
regularne z @code{^} i @code{$} działały poprawnie).  Podanie @samp{-U}
wyłącza to zgadywanie, powodując, że wszystkie pliki są czytane
i przekazywane mechanizmowi dopasowywującemu dosłownie; jeśli plik jest
plikiem tekstowym z parami @code{CR/LF} na końcu linii, spowoduje to, że 
niektóre wyrażenia regularne nie zadziałają.  Opcja ta nie działa
na platformach innych niż @sc{ms-dos} i MS-Windows.

@item -u
@itemx --unix-byte-offsets
@opindex -u
@opindex --unix-byte-offsets
@cindex offset bajtowy, w DOS/Windows
@cindex bajt, offset w DOS/Windows
Raportuje offsety bajtowe w stylu uniksowym.  Przełącznik ten powoduje, że
@code{grep} raportuje offsety bajtowe tak, jakby plik był plikiem
tekstowym typu uniksowego, tj. z usuniętymi znakami @code{CR}.
Da to rezultaty identyczne jak uruchomienie @code{grep} na maszynie
uniksowej.  Opcja ta nie wywołuje żadnego efektu, chyba że użyto także opcji
@samp{-b}; nie działa na platformach innych niż @sc{ms-dos} i MS-Windows.

@item --mmap
@opindex --mmap
@cindex memory mapped input
@cindex wejście odwzorowane w pamięci
Jeśli to możliwe, do odczytu wejścia korzysta z funkcji systemowej
@code{mmap} zamiast domyślnej @code{read}.
W pewnych sytuacjach @samp{--mmap} daje lepszą wydajność. Może jednak
spowodować niezdefiniowane zachowanie (łącznie ze zrzutem rdzenia) jeśli
podczas działania @code{grep} plik wejściowy się skurczy lub wystąpi
błąd wejścia/wyjścia.

@item -Z
@itemx --null
@opindex -Z
@opindex --null
@cindex zero-terminated, nazwy plików
@cindex nazwy plików zakończone bajtem zerowym
@cindex bajt zerowy, na końcu nazw plików
@cindex NUL, na końcu nazw plików
Wypisuje bajt zerowy (znak @sc{ascii} @code{NUL}) zamiast znaku, który
normalnie występuje po nazwie pliku.
Na przykład,  @samp{grep -lZ} wypisuje po nazwie pliku bajt zerowy, zamiast,
jak zwykle, znaku nowej linii. Opcja ta powoduje, że wyjście jest
jednoznaczne, nawet przy nazwach plików zawierających niecodzienne znaki,
jak znak nowej linii.  Może być wykorzystywana z poleceniami typu:
@samp{find -print0}, @samp{perl -0}, @samp{sort -z} czy @samp{xargs -0},
umożliwiając przetwarzanie plików o dowolych nazwach, nawet zawierających
znaki nowej linii.

@item -z
@itemx --null-data
@opindex -z
@opindex --null-data
@cindex zero-terminated, linie
@cindex linie zakończone bajtem zerowym
@cindex bajt zerowy, na końcu linii
@cindex NUL, na końcu linii
Traktuje wejście jak zbiór linii, z których każda zakończona jest bajtem
zerowym (znak @sc{ascii} @code{NUL}), a nie znakiem nowej linii.
Podobnie jak opcja @samp{-Z} czy @samp{--null}, może ona być wykorzystywana
z poleceniami typu @samp{sort -z} do przetwarzania dowolnych nazw plików.

@end table

Kilka dodatkowych opcji odpowiada za dobór wariantu modułu dopasowującego,
jaki zostanie użyty podczas działania.
@xref{Programy grep}.

@section Zmienne środowiska

Na zachowanie się @code{grep} mają wpływ następujące zmienne środowiska.
@cindex zmienne środowiska
@cindex środowisko, zmienne

@table @code

@item GREP_OPTIONS
@vindex GREP_OPTIONS
@cindex domyślne opcje, zmienna środowiska
Ta zmienna określa domyślne opcje, jakie zostaną umieszczone przed 
wszystkimi opcjami podanymi wprost.  Na przykład, jeśli @code{GREP_OPTIONS}
jest równe @samp{--binary-files=without-match --directories=skip}, to
@code{grep} zachowa się tak, jakby podano @samp{--binary-files=without-match}
i @samp{--directories=skip} przed ewentualnymi jawnymi opcjami.
Określenia opcji oddziela się białymi znakami.
Odwrotny ukośnik cytuje następny znak, zatem można go wykorzystać do podania
opcji zawierającej biały znak lub odwrotny ukośnik.

@item LC_ALL
@itemx LC_MESSAGES
@itemx LANG
@vindex LC_ALL
@vindex LC_MESSAGES
@vindex LANG
@cindex język komunikatów
@cindex national language support
@cindex NLS
@cindex przekład języka komunikatów
Te zmienne podają ustawienie regionalne (locale) @code{LC_MESSAGES},
określające język, jakiego @code{grep} ma użyć w komunikatach.
Ustawienie locale jest określane przez pierwszą z tych zmiennych, która
ma nadaną wartość.
Jeśli nie istnieje żadna z nich, to stosowana jest amerykańska odmiana
angielskiego. Dzieje się tak również w przypadku, gdy nie zainstalowano
katalogu z komunikatami lub jeśli @code{grep} nie został skompilowany
z obsługą języków narodowych (@sc{nls}).

@item LC_ALL
@itemx LC_CTYPE
@itemx LANG
@vindex LC_ALL
@vindex LC_CTYPE
@vindex LANG
@cindex znaki, typ
@cindex national language support
@cindex NLS
Te zmienne podają ustawienie regionalne (locale) @code{LC_CTYPE},
określające typ znaków, np. które z nich są białymi znakami.
Ustawienie locale jest określane przez pierwszą z tych zmiennych, która
ma nadaną wartość.
Jeśli nie istnieje żadna z nich, to stosowane jest ustawienie @sc{posix}.
Dzieje się tak również w przypadku, gdy nie zainstalowano katalogu
z komunikatami lub jeśli @code{grep} nie został skompilowany z obsługą
języków narodowych (@sc{nls}).

@item POSIXLY_CORRECT
@vindex POSIXLY_CORRECT
Jeśli jest ustawiona, to @code{grep}
zachowuje się zgodnie z wymaganiami @sc{posix.2}; w przeciwnym razie
zachowuje się bardziej jak inne programy @sc{gnu}.
@sc{posix.2} żąda, by opcje, które występują po nazwach plików były
traktowane jak nazwy plików. Domyślnie zaś, opcje takie są przesuwane
na początek listy argumentów i traktowane jak opcje.
Ponadto, @sc{posix.2} wymaga, by nierozpoznane opcje były zgłaszane jako
``nielegalne'' (``illegal''), ale ponieważ tak naprawdę nie naruszają
one prawa, domyślnie zgłaszane są jako ``nieprawidłowe'' (``invalid'').
@code{POSIXLY_CORRECT} wyłącza także @code{_@var{N}_GNU_nonoption_argv_flags_},
opisane poniżej.

@item _@var{N}_GNU_nonoption_argv_flags_
@vindex _@var{N}_GNU_nonoption_argv_flags_
(Tu @code{@var{N}} jest numerycznym identyfikatorem procesu @code{grep}a).
Jeśli @var{i}-tym znakiem wartości tej zmiennej środowiska jest @samp{1}, to 
@var{i}-ty argument przekazany do @code{grep} nie jest uważany za opcję,
nawet jeśli na nią wygląda.  Powłoka może umieścić tę zmienną w środowisku
dla każdego polecenia, jakie uruchamia, podając, które argumenty są wynikiem
rozwinięcia nazw plików i stąd nie powinny być traktowane jako opcje.
Zachowanie to jest dostępne tylko z biblioteką @sc{gnu} C i tylko wtedy gdy
nie ustawiono @code{POSIXLY_CORRECT}.

@end table

@node Diagnostyka
@chapter Diagnostyka

Normalnie kod zakończenia równa się 0 jeśli znaleziono dopasowania,
a 1 jeśli nie znaleziono żadnych.  Opcja @samp{-v} odwraca sens kodu
zakończenia.  Kod zakończenia równa się 2 jeśli wystąpiły błędy składniowe
we wzorcu, niedostępne pliki wejściowe lub inne błędy systemowe.


@node Programy grep
@chapter Programy @code{grep}

@code{grep} przeszukuje wskazane pliki wejściowe (lub standardowe wejście
jeśli nie podano żadnych lub podano nazwę pliku @file{-}, szukając linii
zawierających coś pasującego do zadanego wzorca.
Domyślnie, @code{grep} wypisuje pasujące linie. 
Istnieją trzy główne warianty @code{grep}, kontrolowane za pomocą
następujących opcji:

@table @samp

@item -G
@itemx --basic-regexp
@opindex -G
@opindex --basic-regexp
@cindex dopasowywanie podstawowych wyrażeń regularnych
Interpretuje wzorzec jako podstawowe wyrażenie regularne.  Jest to zachowanie
domyślne.

@item -E
@itemx --extended-regexp
@opindex -E
@opindex --extended-regexp
@cindex dopasowywanie rozszerzonych wyrażeń regularnych
Interpretuje wzorzec jako rozszerzone wyrażenie regularne.

@item -F
@itemx --fixed-strings
@opindex -F
@opindex --fixed-strings
@cindex dopasowywanie stałych łańcuchów
Interpretuje wzorzec jako listę łańcuchów o stałej długości, oddzielonych
znakami nowej linii, które należy dopasować każdy z osobna.

@end table

Dodatkowo, dostępne są dwa programy wariantowe: @sc{egrep} i @sc{fgrep}.
@sc{egrep} jest tym samym, co @samp{grep -E}.  @sc{fgrep} jest tym samym,
co @samp{grep -F}.

@node Wyrażenia regularne
@chapter Wyrażenia regularne
@cindex regular expressions
@cindex wyrażenia regularne

@dfn{Wyrażenie regularne} to wzorzec opisujący zbiór łańcuchów.  Wyrażenia
regularne są zbudowane analogicznie do wyrażeń arytmetycznych, przez
zastosowanie do połączenia mniejszych wyrażeń rozmaitych operatorów.
@code{grep} rozumie dwie różne wersje składni wyrażeń regularnych:
``podstawową'' i ``rozszerzoną''.  W @sc{gnu} @code{grep} obie te składnie
nie różnią się zakresem dostępnych możliwości.
W innych implementacjach podstawowe wyrażenia regularne są mniej rozbudowane.
Poniższy opis stosuje się do rozszerzonych wyrażeń regularnych;
różnice w stosunku do wyrażeń podstawowych podsumowano na końcu.

Fundamentalnymi ``cegiełkami'' są wyrażenia regularne pasujące do pojedynczego
znaku.  Większość znaków, w tym wszystkie litery i cyfry, to wyrażenia
regularne pasujące do samych siebie.  Każdy metaznak mający specjalne
znaczenie może być cytowany przez poprzedzenie go odwrotnym ukośnikiem.
Lista znaków zawarta między @samp{[} a @samp{]} pasuje do każdego
pojedynczego znaku na tej liście; jeśli pierwszym znakiem listy jest daszek
@samp{^}, pasuje wtedy ona do każdego znaku @strong{nie} znajdującego się
na liście.  Na przykład, wyrażenie regularne @samp{[0123456789]} pasuje do
każdej pojedynczej cyfry.  Można określić zakres znaków, podając znak
pierwszy i ostatni, oddzielone myślnikiem.

I na koniec: predefiniowano pewne nazwane klasy znaków.  Ich interpretacja
zależy od ustawienia regionalnego @code{LC_CTYPE}.  Poniżej przedstawiono
interpretację dla locale @sc{posix}, co jest ustawieniem domyślnym, gdy
nie podano @code{LC_CTYPE}.

@cindex klasy znaków
@cindex znaki, klasy
@table @samp

@item [:alnum:]
@opindex alnum
@cindex znaki alfanumeryczne
@cindex alfanumeryczne, znaki 
znaki alfanumeryczne:
@samp{[:alpha:]} i @samp{[:digit:]}.

@item [:alpha:]
@opindex alpha
@cindex znaki alfabetu
@cindex alfabetu, znaki
Znaki alfabetu:
@samp{[:lower:]} i @samp{[:upper:]}.

@item [:blank:]
@opindex blank
@cindex odstępy
@cindex znaki odstępu
@cindex blank, znaki
Znaki odstępu:
Spacja i tabulacja.

@item [:cntrl:]
@opindex cntrl
@cindex znaki sterujące
@cindex sterujące,  znaki
Znaki sterujące.  W @sc{ascii} mają one kody ósemkowe od 000 do 037, oraz
177 (@code{DEL}).  W innych zestawach znaków są znakami im równoważnymi,
jeśli są takowe.

@item [:digit:]
@opindex digit
@cindex cyfry
@cindex znaki numeryczne
Cyfry: @code{0 1 2 3 4 5 6 7 8 9}.

@item [:graph:]
@opindex graph
@cindex znaki graficzne
@cindex graficzne, znaki
Znaki graficzne:
@samp{[:alnum:]} i @samp{[:punct:]}.

@item [:lower:]
@opindex lower
@cindex małe litery
@cindex litery, małe
Małe litery:
@code{a b c d e f g h i j k l m n o p q r s t u v w x y z}.

@item [:print:]
@opindex print
@cindex znaki drukowalne
@cindex drukowalne, znaki
Znaki drukowalne:
@samp{[:alnum:]}, @samp{[:punct:]} i spacja.

@item [:punct:]
@opindex punct
@cindex znaki interpunkcyjne
@cindex interpunkcyjne,  znaki
Znaki interpunkcyjne:
@code{!@: " # $ % & ' ( ) * + , - .@: / : ; < = > ?@: @@ [ \ ] ^ _ ` @{ | @} ~}.

@item [:space:]
@opindex space
@cindex białe znaki
@cindex przerwy, znaki
@cindex znaki przerwy
Znaki przerwy:
Tabulacja, znak nowej linii, tabulacja pionowa, wysuw strony, powrót karetki
i spacja.

@item [:upper:]
@opindex upper
@cindex duże litery
@cindex litery, duże
Duże litery:
@code{A B C D E F G H I J K L M N O P Q R S T U V W X Y Z}.

@item [:xdigit:]
@opindex xdigit
@cindex klasa xdigit
@cindex heksadecymalne cyfry
@cindex szesnastkowe cyfry
@cindex cyfry, heksadecymalne
Cyfry szesnastkowe:
@code{0 1 2 3 4 5 6 7 8 9 A B C D E F a b c d e f}.

@end table
Na przykład @samp{[[:alnum:]]} oznacza @samp{[0-9A-Za-z]}, z tym wyjątkiem,
że ta druga forma zależy od kodowania znaków @sc{ascii} i ustawień
regionalnych @sc{POSIX} (locale), podczas gdy pierwsza jest przenośna.
(Zauważ, że nawiasy kwadratowe w nazwach klas są częścią nazw symbolicznych
i muszą być umieszczone dodatkowo, oprócz pary nawiasów ograniczającej samą
listę).
Większość metaznaków traci swoje szczególne znaczenie wewnątrz list.
Aby ująć tam dosłowny @samp{]}, należy umieścić go jako pierwszy na liście.
Podobnie, aby ująć dosłowny @samp{^}, należy umieścić go gdziekolwiek poza
pierwszym miejscem.  W końcu, aby ująć na liście dosłowny @samp{-}, trzeba
umieścić go na ostatku.

Kropka @samp{.} pasuje do każdego pojedynczego znaku.  Symbol @samp{\w}
to synonim @samp{[[:alnum:]]}, a @samp{\W} to synonim @samp{[^[:alnum]]}.

Daszek @samp{^} oraz znak dolara @samp{$} są metaznakami, które pasują
odpowiednio do łańcucha pustego na początku i na końcu linii.
Symbole @samp{\<} oraz @samp{\>} pasują odpowiednio do łańcucha pustego
na początku i na końcu wyrazu.
Symbol @samp{\b} pasuje do łańcucha pustego na krawędzi wyrazu, zaś
@samp{\B} pasuje do pustego łańcucha pod warunkiem, że nie występuje
on na krawędzi wyrazu.

Po wyrażeniu regularnym może następować jeden z kilku operatorów
powtórzenia:


@table @samp

@item ?
@opindex ?
@cindex znak zapytania
@cindex dopasowanie podwyrażenia najwyżej raz
Poprzedzający element jest opcjonalny i pasuje nie więcej niż raz.

@item *
@opindex *
@cindex gwiazdka
@cindex dopasowanie podwyrażenia zero lub więcej razy
Poprzedzający element będzie dopasowany zero lub więcej razy.

@item +
@opindex +
@cindex znak plus
@cindex plus, znak
@cindex dopasowanie podwyrażenia co najmniej raz
Poprzedzający element będzie dopasowany co najmniej raz.

@item @{@var{n}@}
@opindex @{n@}
@cindex nawiasy kwadratowe, jeden argument
@cindex dopasowanie podwyrażenia n razy
Poprzedzający element pasuje dokładnie @var{n} razy.

@item @{@var{n},@}
@opindex @{n,@}
@cindex nawiasy kwadratowe, pominięty drugi argument
@cindex dopasowanie podwyrażenia co najmniej n razy
Poprzedzający element pasuje co najmniej @var{n} razy.

@item @{@var{n},@var{m}@}
@opindex @{n,m@}
@cindex nawiasy kwadratowe, dwa argumenty
Poprzedzający element pasuje co najmniej @var{n}, ale nie więcej niż @var{m}
razy.

@end table

Dwa wyrażenia regularne można ze sobą złączyć (skonkatenować).
Do tak powstałego wyrażenia regularnego pasuje każdy ciąg utworzony
przez złączenie dowolnych dwóch ciągów, które odpowiednio pasują
do złączonych podwyrażeń.

Dwa wyrażenia regularne można połączyć operatorem wrostkowym (infiksowym)
@samp{|}.
Do tak powstałego wyrażenia regularnego pasuje dowolny ciąg pasujący
do jednego bądź do drugiego z podwyrażeń.

Powtarzanie ma priorytet nad łączeniem, które z kolei bierze
górę nad alternatywą.  Całe wyrażenie regularne można ująć
w nawiasy, celem unieważnienia tych reguł priorytetowych.

Wsteczne odniesienie @samp{\@var{n}}, gdzie @var{n} jest pojedynczą cyfrą,
dopasowuje podciąg poprzednio dopasowany @var{n}-tym ujętym w nawiasy
podwyrażeniem wyrażenia regularnego.

@cindex podstawowe wyrażeniaregularne
W podstawowych wyrażeniach regularnych metaznaki @samp{?}, @samp{+},
@samp{@{}, @samp{|}, @samp{(} i @samp{)} tracą swoje szczególne znaczenie.
Zamiast nich należy użyć wersji z odwrotnym ukośnikiem:
@samp{\?}, @samp{\+}, @samp{\@{}, @samp{\|}, @samp{\(} i @samp{\)}.

@cindex określanie przedziałów
Tradycyjny @code{egrep} nie traktuje @samp{@{} jako metaznaku.
Niektóre implementacje udostępniają zamiast niego @samp{\@{}, więc przenośne
skrypty powinny unikać @samp{@{} we wzorcach @samp{egrep}, a do dopasowywania
dosłownego znaku @samp{@{} stosować @samp{[@{]}.

@sc{gnu} @code{egrep}
usiłuje obsługiwać tradycyjny sposób użycia zakładając, że @samp{@{} nie
posiada szczególnego znaczenia jeśli byłby on początkiem nieprawidłowego
określenia liczby powtórzeń. Na przykład, polecenie powłoki @samp{egrep '@{1'}
szuka dwuznakowego łańcucha @samp{@{1}, zamiast zgłaszać błąd składni
@sc{posix.2} pozwala na takie zachowanie jako rozszerzenie standardu,
ale przenośne skrypty powinny go unikać.

@node Sposób użycia
@chapter Sposób użycia

@cindex sposób użycia, przykłady
Oto przykładowe polecenie powłoki wywołujące @sc{gnu} @code{grep}:

@example
grep -i 'hello.*world' menu.h main.c
@end example

@noindent
Pokazuje ono wszystkie linie plików @file{menu.h} i @file{main.c} zawierające
łańcuch @samp{hello}, po którym występuje łańcuch @samp{world}; dzieje się
tak, gdyż @samp{.*} dopasowuje zero lub więcej znaków linii.
@xref{Wyrażenia regularne}.
Opcja @samp{-i} powoduje, że @code{grep} będzie ignorować wielkość liter,
dopasowując np. linię @samp{Hello, world!}, która w przeciwnym razie nie
zostałaby dopasowana.  @xref{Wywołanie}, gdzie szczegółowo omówiono sposób
wywołania @code{grep}.

@cindex korzystanie z @code{grep}, pytania i odpowiedzi
@cindex pytania i odpowiedzi nt. korzystania z @code{grep}
@cindex FAQ o korzystaniu z @code{grep}
Oto kilka częstych pytań na temat korzystania z @code{grep}
i odpowiedzi na nie.

@enumerate

@item
Jak uzyskać zestawienie tylko nazw pasujących plików?

@example
grep -l 'main' *.c
@end example 

@noindent
podaje nazwy wszystkich plików C z bieżącego katalogu, których zawartość
wzmiankuje @samp{main}.

@item
Jak rekurencyjnie przeszukać katalogi?

@example
grep -r 'hello' /home/gigi
@end example

@noindent
szuka @samp{hello} we wszystkich plikach pod katalogiem @file{/home/gigi}.
Lepszą kontrolę nad tym, jakie pliki mają być przeszukiwane można uzyskać
stosując @code{find}, @code{grep} i @code{xargs}.  Na przykład,
poniższe polecenie przeszukuje tylko pliki C:

@smallexample
find /home/gigi -name '*.c' -print | xargs grep 'hello' /dev/null
@end smallexample

@item
Co jeśli wzorzec zaczyna się od @samp{-}?

@example
grep -e '--cut here--' *
@end example 

@noindent
szuka wszystkich linii pasujących do @samp{--cut here--}.
Bez @samp{-e}, @code{grep} próbowałby analizować @samp{--cut here--}
jako listę opcji.

@item
Załóżmy, że szukamy całego wyrazu, a nie jego części?

@example
grep -w 'hello' *
@end example

@noindent
szuka tylko tych wystąpień @samp{hello}, które są całymi wyrazami;
nie dopasuje @samp{Othello}.  Dokładniejszą kontrolę można uzyskać stosując
@samp{\<} i @samp{\>} do dopasowania początku i końca wyrazów.  Na przykład:

@example
grep 'hello\>' *
@end example

@noindent
wyszukuje tylko wyrazy kończące się na @samp{hello}, zatem dopasuje wyraz
@samp{Othello}.

@item
Jak wypisać linie sąsiadujące z pasującymi?

@example
grep -C 2 'hello' *
@end example

@noindent
wypisuje dwie linie kontekstu wokół każdej z dopasowanych linii.

@item
Jak wymusić na grep wypisanie nazwy pliku?

Dodać na końcu @file{/dev/null}:

@example
grep 'eli' /etc/passwd /dev/null
@end example

@item
Czemu ludzie używają dziwnych wyrażeń regularnych z wyjściem z @code{ps}?

@example
ps -ef | grep '[c]ron'
@end example

Jeśli wzorzec zostałby zapisany bez nawiasów kwadratowych, dopasowałby nie
tylko linię wyjściową z @code{ps} dotyczącą @code{cron}, ale i linię
wyjściową @code{ps} dla samego @code{grep}.

@item
Dlaczego @code{grep} zgłasza ``Binary file matches''?

Gdyby @code{grep} podał wszystkie pasujące ``linie'' pliku binarnego,
utworzony wynik nie byłby prawdopodobnie do niczego przydatny, a nawet
mógłby nabałaganić na ekranie.  Zatem @sc{gnu} @code{grep} wyłącza
wypisywanie dla plików, które wyglądają na binarne.  Możemy zmusić go
do wypisywania dopasowanych linii również dla takich plików stosując opcję
@samp{-a} lub @samp{--binary-files=text}.  Chcąc się pozbyć komunikatów
``Binary file matches'' (``Plik binarny pasuje do wzorca'') należy
skorzystać z opcji @samp{-I} lub @samp{--binary-files=without-match}.

@item
Dlaczego @samp{grep -lv} nie wypisuje nazw plików niepasujących?

@samp{grep -lv} wypisuje nazwy wszystkich plików zawierających co najmniej
jedną niepasującą linię.  Do uzyskania listy nazw wszystkich plików nie
zawierających żadnych pasujących linii, należy użyć opcji @samp{-L} lub
@samp{--files-without-match}.

@item
Logiczne @sc{or} można uzyskać dzięki @samp{|}, ale co z @sc{and}?

@example
grep 'paul' /etc/motd | grep 'franc,ois'
@end example

@noindent
znajdzie wszystkie linie zawierające zarówno @samp{paul}, jak
i @samp{franc,ois}.

@item
Jak można przeszukać równocześnie standardowe wejście i pliki?

Trzeba zastosować specjalną nazwę pliku @samp{-}:

@example
cat /etc/passwd | grep 'alain' - /etc/motd
@end example
@end enumerate

@node Błędy
@chapter Błędy i ich zgłaszanie

@cindex błędy, zgłaszanie
Zgłoszenia błędów wysyłaj, proszę, na adres @email{bug-gnu-utils@@gnu.org}.
Upewnij się, że gdzieś w polu tematu (``Subject:'') umieściłeś słowo ``grep''.

Duże liczniki powtórzeń w konstrukcji @samp{@{m,n@}} mogą spowodować, że
@code{grep} zużyje mnóstwo pamięci.  Oprócz tego, pewne inne niejasne
wyrażenia regularne wymagają czasu i przestrzeni rosnącej wykładniczo
i mogą spowodować, że grepowi zabraknie pamięci.
Wsteczne odwołania są bardzo powolne i mogą wymagać czasu rosnącego
wykładniczo.

@page
@node Indeks pojęć
@unnumbered Indeks pojęć

To jest ogólny indeks wszystkich zagadnień omówionych w tym podręczniku,
z wyjątkiem poleceń programu @code{grep} i podawanych w wierszu poleceń
opcji.

@printindex cp

@page
@node Indeks
@unnumbered Indeks

To jest alfabetyczne zestawienie wszystkich poleceń @code{grep},
opcji wiersza poleceń i zmiennych środowiska.

@printindex fn

@contents
@bye
