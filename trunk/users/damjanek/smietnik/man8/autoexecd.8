.\" {PTM/PW/0.1/03-15-1999/"uruchom pliki startowe"}
.\" Copyright (c) 1999 Paweł Wilk
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.TH AUTOEXECD 8 "8 Marca 1998" "PLD GNU/Linux" "Podręcznik Administratora Systemu Linux"
.SH NAZWA
autoexecd \- demon dla blondynek
.SH SKŁADNIA
.BI "autoexecd [\-sV]"
.SH OPCJE
.BR autoexecd :
.TP
.B \-V
Drukuje wersję i nie robi nic więcej.
.TP
.B \-s
Drukuje informację o aktualnych ustawieniach (sprawdza plik konfiguracyjny)
i kończy pracę.
.SH OPIS
Demon \fBautoexecd\fP
przeznaczony jest do uruchamiania plików użytkowników w czasie
startu systemu. Najczęściej wywoływany jest z poziomu
skryptów startowych \fBrc\fP, na samym początku pracy. Zaraz po uruchomieniu
\fBautoexecd\fP zaczyna skanować obecne procesy czekając na pojawienie się 
procesu o nazwie \fBgetty\fP. 
.LP
To czy getty jest obecny jest dla demona informacją, 
że zakończone zostały wszelkie robocze ładowania i można zacząć
uruchamiać pliki użytkowników (które mogą przecież korzystać z jakichś usług
uruchomionych po \fBautoexecd\fP i przed \fBgetty\fP).
Okres czekania na proces wynosi domyślnie 80 sekund. 
Jeśli oczekiwany proces nie pojawi się w tym czasie 
to demon kończy swą pracę i nie podejmuje już żadnych działań.
.LP
Gdy szukany proces zostanie wykryty to autoexecd odczeka 2 sekundy 
i rozpocznie skanowanie pliku 
.IR "/etc/passwd" ". " 
Dla każdego odnalezionego użytkownika
utworzony będzie nowy proces o efektywnym i rzeczywistym identyfikatorze
równym identyfikatorowi użytkownika, a także o efektywnym i rzeczywistym 
identyfikatorze grupy równym identyfikatorowi głównej grupy użytkownika.
Tak przygotowany proces zmienia swój katalog bieżący na katalog domowy
uzyskany z /etc/passwd i próbuje uruchomić plik
.IR ".autoexec" ". "
Po pomyślnym utworzeniu nowego procesu demon autoexecd czeka chwilę 
(domyślnie 5 sekund) i przechodzi do kolejnego wpisu w /etc/passwd.
W przypadku błędu następna pozycja passwd jest wczytywana bez oczekiwania.
Błąd powstaje i nowy proces nie jest tworzony gdy:
.LP
.ce 5
\- wczytywany użytkownik ma UID równy 0,
\- wczytywany użytkownik nie posiada katalogu domowego,
\- w katalogu domowym użytkownika nie ma pliku .autoexec,
\- użytkownik nie ma uprawnień by wykonywać plik .autoexec,
\- wystąpił błąd w tworzeniu nowego procesu.
.LP
Każdy proces użytkownika zanim wczyta .autoexec 
próbuje otworzyć do nadpisywania dwa pliki z podkatalogu
.IR "autoexec" 
mieszczącego się w katalogu domowym. Nazwy tych plików to
.IR "stdout" 
oraz
.IR "stderr" ". "
Do pierwszego z nich przekierowywany jest standardowy strumień wejściowy
zaś do drugiego standardowy strumień błędów. Jeśli dostęp do któregoś z 
tych plików jest niemożliwy (np. brak jest katalogu autoexec) to dany 
strumień kierowany jest do
.IR "/dev/null" ". " 
Jeśli któryś z plików nie istnieje to jest tworzony.
.LP
.SH KONFIGURACJA
Autoexecd zaraz po uruchomieniu czyta plik konfiguracyjny
.IR "/etc/autoexecd.conf" ". " 
Możesz dowolnie zmieniać ten plik tak by dostosować działanie autoexecd. Oto
możliwe opcje podawane w formacie "opcja" "wartość" (znaki dwukropka wchodzą w 
skład tekstu opcji):
.LP
.TP
.BI "wait for process:" " nazwa"
możliwość zastąpienia domyślnego getty przez inny proces
.TP
.BI "delay after:" " czas"
czas oczekiwania (w sekundach) po tym jak demon znajdzie 
już proces na który czekał
.TP
.BI "delay between:" " czas"
czas "odpoczynku" między kolejnymi udanymi wywołaniami procesów użytkowników
.TP
.BI "pass after:" " czas"
czas po którym demon zaprzestaje czekać na mający pojawić się proces
.TP
.B "forced execute" 
dodanie tego wpisu w pliku konfiguracyjnym spowoduje przejście demona do
dalszych działań nawet jeśli w ciągu ustalonego czasu nie pojawi się
oczekiwany proces
.TP
.B "disabled-for" 
wszystkie linie pliku konfiguracyjnego umieszczone po tym znaczniku 
będą przeszukane pod kątem znalezienia nazw użytkowników, dla których
demon autoexecd nie zadziała. Nazwy mogą być oddzielone znakami
tabulacji, spacji bądź spacji (tabulacji) i przecinków.
Koniec sekcji z zabronionymi użytkownikami oznaczany jest wpisem
.B "eof-disabled-for"
.TP
.BI "nice value:" " wartość"
wartość nice tworzonych procesów
.TP
.BI "umask:" " wartość (oktalnie)"
maska trybu tworzenia pliku dla demona i tworzonych procesów
.LP
Wszelkie linie pliku konfiguracyjnego występujące 
po znaku'#' są traktowane jako komentarze.
.LP
Jeśli nie można pobrać jakiejś opcji to zostaje ona zastąpiona wartością
domyślną.
.SH 
.SH PLIKI
.I /usr/sbin/autoexecd 
program demona
.LP
.I /etc/autoexecd.conf
plik konfiguracyjny

.SH "ZOBACZ TEŻ"
.BR login (1),
.BR passwd (1),
.BR getty (8).

.SH HISTORIA
Pomysł na
.B autoexecd
zrodził się przy okazji Dnia Kobiet i został przeniesiony do
rzeczywistości by ułatwić życie wszelkim blondynkom (blondynom też).
.SH AUTOR
Copyright (C) 1999 by Paweł Wilk <siewca@pld.org.pl>

