.\" Tłumaczenie w oparciu o tłumaczenie apt-get.8 dla systemu Debian
.\" Roberta Luberdy <robert@debian.org> wykonał w listopadzie 2001
.\" A. Krzysztofowicz <ankry@mif.pg.gda.pl>
.\"
.TH "apt-get" "8" "25 października 2000" "apt" ""
.SH NAZWA
apt-get \- narzędzie zarządzania pakietami APT -- interfejs linii poleceń
.SH SKŁADNIA
.sp
apt-get [opcje] [polecenie] [pakiet ...]
.PP
.SH OPIS
\fBapt-get\fP jest narzędziem do zarządzania pakietami działającym z linii
poleceń i może być uważane za wewnętrzne narzędzie apt(8).
.PP
\fIpolecenie\fP jest jednym z:
.IP o
update
.IP o
upgrade
.IP o
dselect-upgrade [1]
.IP o
dist-upgrade
.IP o
install pakiet1 [pakiet2] [...]
.IP o
remove pakiet1 [pakiet2] [...]
.IP o
source pakiet1 [pakiet2] [...]
.IP o
check
.IP o
clean
.IP o
autoclean
.PP
Jeżeli nie zostanie podana opcja -h lub --help, musi być użyte jedno
z powyższych poleceń.
.PP
Uwaga:
[1] Wyłącznie dla systemów Debian
.PP
.IP "\fBupdate\fP"
\fBupdate\fP jest używane do zsynchronizowania zawartości plików indeksu
pakietów z ich źródłem. Lista dostępnych pakietów jest pobierana z lokalizacji
określonych w pliku \fB/etc/apt/sources.list\fP.
Na przykład, gdy używane jest archiwum Debiana, to polecenie pobiera
i przegląda pliki \fBPackages.gz\fP, tak żeby udostępnić informacje o nowych
i uaktualnionych pakietach. Polecenie update powinno być użyte zawsze przed
\fBupgrade\fP lub \fBdist-upgrade\fP. Należy zauważyć, że licznik
całkowitego postępu operacji jest błędny, ponieważ rozmiar plików
\fBPackages.gz\fP nie jest wcześniej znany.
.IP
.IP "\fBupgrade\fP"
\fBupgrade\fP instaluje najnowsze wersje wszystkich aktualnie zainstalowanych
w systemie pakietów, na podstawie źródeł wymienionych w pliku
\fB/etc/apt/sources.list\fP. Zainstalowane pakiety, których nowsza
wersja jest dostępna, są pobierane i uaktualniane; w żadnym wypadku podanie
tej opcji nie spowoduje usunięcia zainstalowanego pakietu ani pobrania
i zainstalowania nowego pakietu, wcześniej nie zainstalowanego. Pakiety,
których nowa wersja wymaga zmiany statusu (np. zainstalowania bądź usunięcia)
innego pakietu, nie będą uaktualnione. Aby \fBapt-get\fP wiedział, że są
dostępne nowe wersje pakietów, należy wcześniej wykonać \fBupdate\fP.
.IP
.IP "\fBdselect-upgrade\fP"
\fBdselect-upgrade\fP jest używane w połączeniu z nakładką \fBdselect (8)\fP,
tradycyjnym narzędziem do zarządzania pakietami w systemie Debian GNU/Linux.
\fBdselect-upgrade\fP śledzi zmiany pola \fIStatus\fP dostępnych pakietów,
wykonane programem \fBdselect\fP i podejmuje działania niezbędne do
osiągnięcia określonego tam stanu (na przykład poprzez usunięcie starych
pakietów i dodanie nowych).
Polecenie to jest dostępne jedynie na systemach Debian.
.IP
.IP "\fBdist-upgrade\fP"
\fBdist-upgrade\fP wykonuje to samo, co upgrade, jednakże w inteligentny
sposób wykrywa zmiany zależności międzypakietowych w nowych wersjach pakietów.
\fBapt-get\fP ma wbudowany "sprytny" system rozwiązywania konfliktów i jeśli
będzie to potrzebne, podejmie próbę zaktualizowania najważniejszych pakietów,
kosztem tych mniej ważnych. Plik \fB/etc/apt/sources.list\fP zawiera
listę adresów, z których będą pobierane żądane pakiety.
.IP
.IP "\fBinstall\fP"
po \fBinstall\fP musi występować nazwa jednego lub więcej \fIpakietów\fP
przeznaczonych do zainstalowania. Każdy argument jest nazwą pakietu,
a nie pełną nazwą pliku, w którym się znajduje
(na przykład, w systemie Debian GNU/Linux tym argumentem byłoby \fIldso\fP,
a nie \fIldso_1.9.6-2.deb\fP). Wszystkie pakiety, niezbędne do zainstalowania
żądanego(-ych) pakietu(-ów), będą także pobrane i zainstalowane.
Plik \fB/etc/apt/sources.list\fP zawiera listę adresów, z których będą
pobierane żądane pakiety. Jeżeli przed nazwą pakietu pojawi się minus (bez
spacji pomiędzy minusem a nazwą pakietu), to ten pakiet zostanie usunięty,
o ile oczywiście jest zainstalowany. Ta ostatnia właściwość może być
użyta do nadpisania decyzji, podjętych przez system rozwiązywania konfliktów
programu apt-get.
.IP
Jeżeli żaden pakiet nie pasuje do podanego wyrażenia, a wyrażenie to zawiera
jeden z następujących znaków: '.', '?' lub '*', to zakłada się, że
jest to wyrażenie regularne zgodne z POSIX-em i odnosi się ono do
wszystkich nazw pakietów w bazie. Pakiety, których nazwy pasują do tego
wyrażenia regularnego, są instalowane (bądź usuwane). Należy zwrócić uwagę
na to, że dopasowywany jest podciąg, tak więc 'lo*' pasuje zarówno do
'how-lo', jak i do 'lowest'. Jeśli jest to niepożądane, to należy poprzedzić
wyrażenie znakiem '^'.
.IP
.IP "\fBremove\fP"
\fBremove\fP odpowiada poleceniu \fBinstall\fP z tą różnicą, że pakiety są
usuwane, a nie instalowane. Jeżeli nazwa pakietu zostanie poprzedzona
znakiem plusa (bez rozdzielającej spacji), wskazany pakiet zostanie
zainstalowany.
.IP
.IP "\fBsource\fP"
\fBsource\fP powoduje, że apt-get pobiera pakiety ze źródłami. APT na
podstawie listy dostępnych pakietów decyduje, który pakiet źródłowy ściągnąć.
Następnie szuka najnowszej dostępnej wersji pakietu ze źródłami i pobiera
ją do bieżącego katalogu. Pakiety ze źródłami są znajdowane
inaczej niż pakiety binarne: przez linie z identyfikatorem \fBdeb-src\fP lub
\fBrpm-src\fP w pliku \fBsources.list\fP. Może to oznaczać, że pobrany
pakiet źródłowy nie będzie odpowiadał pakietowi binarnemu, który jest lub
mógłby być zainstalowany. Jeżeli podano opcję --compile, pakiet źródłowy
zostanie skompilowany do pakietu binarnego .deb za pomocą programu
dpkg-buildpackage, a na systemach opartych na RPM, do pakietu binarnego .rpm
za pomocą rpm -ba. Podanie opcji --download-only spowoduje natomiast, że
pakiet źródłowy nie zostanie rozpakowany.
.IP
Uwaga. Pakiety źródłowe nie są traktowane tak samo, jak pakiety binarne.
Istnieją one tylko w bieżącym katalogu i ich pobieranie jest podobne do
pobierania innych paczek ze żródłami.
.IP
.IP "\fBcheck\fP"
\fBcheck\fP jest poleceniem diagnostycznym, które odświeża bufor pakietów
i poszukuje pakietów uszkodzonych.
.IP
.IP "\fBclean\fP"
\fBclean\fP czyści lokalne repozytorium pobranych plików z pakietami.
Usuwa z katalogów \fB/var/cache/apt/archives/\fP i
\fB/var/cache/apt/archives/partial/\fP wszystko oprócz pliku blokady.
Gdy APT jest używane jako metoda programu \fBdselect(8)\fP, \fBclean\fP jest
uruchamiane automatycznie. Osoby nie używające dselect, mogą chcieć od czasu
do czasu uruchamiać \f(CWapt-get clean\fP, aby zwolnić trochę miejsca na
dysku.
.IP
.IP "\fBautoclean\fP"
\fBautoclean\fP, podobnie jak \fBclean\fP, czyści lokalne repozytorium
pobranych plików z pakietami. Różnica polega na tym, że \fBautoclean\fP usuwa
tylko te pliki pakietów, które już nie mogą zostać pobrane i w większości są
bezużyteczne. Pozwala to na uniknięcie przed długi czas niekontrolowanego
wzrostu rozmiaru bufora.
.IP
.PP
.SH OPCJE
Wszystkie opcje linii poleceń mogą być ustawione w pliku konfiguracyjnym.
Poniższe opisy wskazują, którą opcję w pliku konfiguracyjnym należy ustawić.
W przypadku opcji logicznych, można unieważnić ustawienia pliku
konfiguracyjnego, używając \fB-f-\fP, \fB--no-f\fP, \fB-f=no\fP albo czegoś
podobnego.
.IP
.IP "\fB-d\fP, \fB--download-only\fP"
Tylko pobieranie; pliki z pakietami są tylko pobierane, ale nie rozpakowywane
czy instalowane.
Odpowiadający element konfiguracji: \fBAPT::Get::Download-Only\fP.
.IP
.IP "\fB-f\fP, \fB--fix-broken\fP"
Poprawianie; podjęcie próby poprawienia uszkodzonych zależności. Używanie
tej opcji z install/remove może spowodować pominięcie któregoś z pakietów
podanych w linii poleceń,
.\" to wyżej - to są wariacje na temat ;)
co pozwoli programowi APT znaleźć właściwe rozwiązanie problemu. Któryś
z podanych w linii poleceń pakietów musi stanowić jego rozwiązanie. Ta opcja
jest czasami potrzebna przy pierwszym uruchomieniu APT, który nie pozwala na
występowanie w systemie niespełnionych zależności. Jest również
prawdopodobne, że struktura zależności w systemie jest zniszczone do tego
stopnia, że będzie wymagała ręcznej interwencji (co zazwyczaj oznacza użycie
dselect lub dpkg --remove w celu usunięcia niektórych winnych tego stanu
pakietów). W pewnych sytuacjach użycie tej opcji łącznie z \fB-m\fP może
spowodować błąd.
Odpowiadający element konfiguracji: \fBAPT::Get::Fix-Broken\fP.
.IP
.IP "\fB-h\fP, \fB--help\fP"
Pokazuje krótką informację o sposobie użycia.
.IP
.IP "\fB-v\fP, \fB--version\fP"
Pokazuje wersję programu.
.IP
.IP "\fB-m\fP, \fB--ignore-missing\fP, \fB--fix-missing\fP"
Ignoruje brakujące pakiety. Pakiety, które nie mogą być pobrane lub
nie powiedzie się test spójności pakietu po jego pobraniu (plik z pakietem
jest uszkodzony), zostaną wstrzymane. W pewnych sytuacjach użycie tej
opcji łącznie z -f może spowodować błąd. Pakiet, który jest wybrany
do instalacji (w szczególności wymieniony w linii poleceń),
ale nie może zostać pobrany, zostanie po cichu pominięty.
Odpowiadający element konfiguracji: \fBAPT::Get::ignore-missing\fP.
.IP
.IP "\fB-S\fP, \fB--summary\fP"
Uzywane z poleceniami upgrade lub dist-upgrade wypisuje informacje o tym, co
byłoby uaktualnione, podając poziom ważności i podsumowanie zmian (gdy te
informacje są dostępne) i kończy.
Odpowiadający element konfiguracji: \fBAPT::Get::Show-Upgrade-Summary\fP.
.IP
.IP "\fB--no-download\fP"
Wyłącza pobierania pakietów. Najlepiej stosować z
\fB--ignore-missing\fP, aby wymusić na APT używanie tylko tych plików .deb,
które zostały wcześniej pobrane.
Odpowiadający element konfiguracji: \fBAPT::Get::No-Download\fP.
.IP
.IP "\fB-q\fP, \fB--quiet\fP"
Po cichu; wypisuje tylko informacje potrzebne do logowania, opuszczając
wskaźniki postępu. Więcej znaków q spowoduje jeszcze bardziej ciche
wyjście, maksimum wynosi 2. Można także ustawić poziom cichości za pomocą
\fB-q=#\fP, nadpisując tym samym opcję z pliku konfiguracyjnego.
Należy zauważyć, że poziom cichości równy 2 implikuje -y, dlatego -qq
nigdy nie powinno być używane bez opcji typu -d, --print-uris lub -s,
gdyż APT może zadecydować o zrobieniu czegoś, czego użytkownik się nie
spodziewa.
Odpowiadający element konfiguracji: \fBquiet\fP.
.IP
.IP "\fB-s\fP, \fB--simulate\fP, \fB--just-print\fP, \fB--dry-run\fP, \fB--recon,\fP, \fB-no-act\fP"
Brak akcji; wykonuje symulację zdarzeń, które mogłyby wystąpić, ale nic nie
zmienia w systemie.
Odpowiadający element konfiguracji: \fBAPT::Get::Simulate\fP.
.IP
Symulacja powoduje wypisanie serii linii, z których każda reprezentuje
operację programu dpkg: konfigurowanie (Conf), usunięcie (Remv),
rozpakowanie (Inst). Nawiasy kwadratowe oznaczają uszkodzone pakiety,
przy czym pusty zbiór pakietów w nawiasach kwadratowych oznacza brak
następstw (rzadkość).
.IP
.IP "\fB-y\fP, \fB--yes\fP, \fB--assume-yes\fP"
Automatyczna odpowiedź "tak" na pytania. Zakładając odpowiedź "tak"
na wszelkie pytania, uruchamia się w trybie nieinteraktywnym.
Jeśli wystąpi jakaś sytuacja niepożądana, na przykład zmiana wstrzymanego
pakietu lub usunięcie istotnego pakietu, \fBapt-get\fP przerwie działanie.
Odpowiadający element konfiguracji: \fBAPT::Get::Assume-Yes\fP.
.IP
.IP "\fB-u\fP, \fB--show-upgraded\fP"
Pokazuje uaktualnione pakiety. Wypisuje listę wszystkich pakietów, które
będą uaktualnione.
Odpowiadający element konfiguracji: \fBAPT::Get::Show-Upgraded\fP.
.IP
.IP "\fB-b\fP, \fB--compile\fP, \fB--build\fP"
Kompiluje pakiety źródłowe po ich pobraniu.
Odpowiadający element konfiguracji: \fBAPT::Get::Compile\fP.
.IP
.IP "\fB--ignore-hold\fP"
Ignoruje wstrzymanie pakietów. Ta opcja powoduje, że \fBapt-get\fP
zignoruje status "wstrzymany" pakietów. Może to być przydatne w połączeniu
z \fBdist-upgrade\fP do unieważnienia dużej liczby niepożądanych wstrzymań.
Odpowiadający element konfiguracji: \fBAPT::Ignore-Hold\fP.
.IP
.IP "\fB--no-upgrade\fP"
Nie aktualizuje pakietów. \fBno-upgrade\fP użyte w połączeniu z \fBinstall\fP
spowoduje, że te z wymienionych w linii poleceń pakietów, które są już
zainstalowane, nie zostaną zaktualizowane.
Odpowiadający element konfiguracji: \fBAPT::Get::no-upgrade\fP.
.IP
.IP "\fB--force-yes\fP"
Wymuszenie. Jest to niebezpieczna opcja, która powoduje, że apt-get kontynuuje
swoje działanie bez żadnej interakcji z użytkownikiem, nawet jeśli robi coś,
co może być szkodliwe. Nie powinna być używana z wyjątkiem bardzo szczególnych
sytuacji. Używanie \fBforce-yes\fP może zniszczyć system!
Odpowiadający element konfiguracji: \fBAPT::Get::force-yes\fP.
.IP
.IP "\fB--print-uris\fP"
Nie pobiera pakietów do zainstalowania, tylko wypisuje ich URI. Każdy URI
składa się z lokalizacji, nazwy pliku przeznaczenia, rozmiaru oraz oczekiwanej
sumy kontrolnej md5. Należy zauważyć, że nazwa pliku przeznaczenia nie musi
być taka sama jak nazwa zdalnego pliku! Ta opcja działa także z poleceniem
\fBsource\fP.
Odpowiadający element konfiguracji: \fBAPT::Get::Print-URIs\fP.
.IP
.IP "\fB--purge\fP"
Podczas usuwania pakietu, usuwa także jego pliki konfiguracyjne.
Ta opcja jest ignorowana w systemach opartch na RPM.
Odpowiadający element konfiguracji: \fBAPT::Get::Purge\fP.
.IP
.IP "\fB--reinstall\fP"
Ponownie instaluje pakiety, których najnowsza wersja już jest zainstalowana.
.IP
.IP "\fB--list-cleanup\fP"
Ta opcja jest domyślnie włączona, można ją wyłączyć używając
\fB--no-list-cleanup\fP. Jeżeli jest włączona, \fBapt-get\fP będzie
automatycznie zarządzał zawartością /var/lib/apt/lists, tak aby przestarzałe
pliki były usuwane. Jedynym powodem dla jej wyłączenia mogłyby być częste
zmiany w sources.list.
Odpowiadający element konfiguracji: \fBAPT::Get::List-Cleanup\fP.
.IP
.IP "\fB--trivial-only\fP"
Wykonuje tylko \'banalne\' (ang. \'trivial\') operacje. Tę opcję można
porównać z --assume-yes, ale tam gdzie --assume-yes odpowiedziałoby "tak" na
pytanie, --trivial-only odpowie "nie".
Odpowiadający element konfiguracji: \fBAPT::Get::Trivial-Only\fP.
.IP
.IP "\fB--no-remove\fP"
Jeżeli jakikolwiek pakiet miałby zostać usunięty, apt-get natychmiast kończy
działanie, bez pytania o potwierdzenie.
Odpowiadający element konfiguracji: \fBAPT::Get::No-Remove\fP.
.IP
.IP "\fB--diff-only\fP, \fB--tar-only\fP"
Pobiera tylko plik diff albo tar pakietu źródłowego.
Odpowiadający element konfiguracji: \fBAPT::Get::Diff-Only\fP.
.IP
.IP "\fB-c\fP, \fB--config-file\fP"
Plik konfiguracyjny. Określa plik konfiguracyjny, którego należy użyć.
Program najpierw przeczyta swój domyślny plik konfiguracyjny, a następnie plik
podany jako argument tej opcji.
Informacje na temat składni można znaleźć w \fBapt.conf(5)\fP.
.IP
.IP "\fB-o\fP, \fB--option\fP"
Ustawia opcję konfiguracyjną. Można ustawić dowolną opcję konfiguracyjną,
Składnia jest następująca:

.nf

-o Foo::Bar=bar
.fi


.PP
.SH PLIKI
.IP o
/etc/apt/sources.list
lokalizacje, z których będą pobierane pakiety
.IP
.IP o
/var/cache/apt/archives/
składnica pobranych plików z pakietami
.IP
.IP o
/var/cache/apt/archives/partial/
składnica właśnie pobieranych plików z pakietami
.IP
.IP o
/var/lib/apt/lists/
składnica informacji o stanie każdej lokalizacji pakietów podanej w
sources.list
.IP
.IP o
/var/lib/apt/lists/partial/
składnica informacji o stanie w trakcie pobierania.
.SH "ZOBACZ TAKŻE"
.PP
apt-cache(8),
dpkg(8),
dselect(8),
sources.list(5),
apt.conf(5),
Przewodnik dla użytkowników programu APT w /usr/share/doc/apt*/,
.PP
.SH DIAGNOSTYKA
apt-get zwraca zero, gdy zakończyło się pomyślnie, 100 dziesiętnie -
w przypadku błędu.
.SH "BŁĘDY"
.PP
Zobacz http://bugs.debian.org/apt. Aby złożyć raport o błędzie w APT,
przeczytaj \fB/usr/share/doc/debian/bug-reporting.txt\fP lub użyj polecenia
\fBbug(1)\fP. Jeśli korzystasz z programu apt w systemie opartym na RPM,
korzystaj z http://distro.conectiva.com.br/bugzilla/.
.PP
.SH AUTOR
apt-get został napisany przez zespół APT <apt@packages.debian.org> a
do potrzeb systemów opartych na RPM przystosował go Alfredo K. Kojima
z Conectiva S.A. <kojima@conectiva.com.br>.
