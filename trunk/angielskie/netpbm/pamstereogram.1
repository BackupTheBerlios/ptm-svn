." This man page was generated by the Netpbm tool 'makeman' from HTML source.
." Do not hand-hack it!  If you have bug fixes or improvements, please find
." the corresponding HTML page on the Netpbm website, generate a patch
." against that, and send it to the Netpbm maintainer.
.TH "Pamstereogram User Manual" 0 "6 January 2006" "netpbm documentation"
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">



<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
.PP

.PP
.UR #contents
Table Of Contents
.UE
\&


.UN name
.SH NAME
.PP
pamstereogram - create a single-image stereogram from a PAM
height map

.UN synopsis
.SH SYNOPSIS
.PP
\fBpamstereogram\fP
[\fB-help\fP]
[\fB-verbose\fP]
[\fB-blackandwhite\fP | \fB-grayscale\fP | \fB-color\fP]
[\fB-maxval=\fP\fIvalue\fP]
[\fB-patfile=\fP\fIpamfile\fP]
[\fB-xshift=\fP\fIpixels\fP]
[\fB-yshift=\fP\fIpixels\fP]
[\fB-magnifypat=\fP\fIscale\fP]
[\fB-guidesize=\fP\fIpixels\fP]
[\fB-dpi=\fP\fIresolution\fP]
[\fB-crosseyed\fP]
[\fB-makemask\fP]
[\fB-eyesep=\fP\fIinches\fP]
[\fB-depth=\fP\fIfraction\fP]
[\fB-randomseed=\fP\fIinteger\fP
[\fIinfile\fP]

.PP
You may use either single or double hyphens to denote options.  You
may use either whitespace or an equals sign to separate an option name
from its value.


.UN description
.SH DESCRIPTION
.PP
This program is part of
.BR Netpbm (1).
.PP
\fBpamstereogram\fP inputs a height map (a map of the distances
from your eye of the points in a scene) and outputs a single-image
stereogram (SIS). A SIS is a 2-D image specially designed to appear
three dimensional when viewed with relaxed, slightly unfocused
eyes. What's exciting about single-image stereograms is that they
don't require special glasses to view, although it does require a bit
of practice to train your eyes to unfocus properly.  The
\fBpamstereogram\fP program provides a wealth of control over how the
stereogram is generated, including the following:


.IP \(bu
black and white, grayscale, or color output

.IP \(bu
single-image random-dot stereograms (SIRDS) or single-image
stereograms (SIS) using a tiled image

.IP \(bu
images targeting a given device resolution and eye
separation

.IP \(bu
optional guide boxes to assist in focusing

.IP \(bu
the ability to trade off depth levels for easier viewing

.IP \(bu
choice of wall-eyed or cross-eyed stereograms


.PP
The output is a PAM image on standard output.  Options control
the exact format of the PAM.  If you want a PNM (PBM, PGM, or PPM)
image, use \fBpamtopnm\fP on the output.  There is no need to convert
if you will use the image as input to a current Netpbm program, but
many other programs don't know what a PAM is.
.PP
To make a red/green type of stereogram (that you view with 3-D
glasses) instead, see \fBppm3d\fP.


.UN options
.SH OPTIONS



.TP
\fB-verbose\fP
Display messages about image sizes and formats and properties
of the stereogram being generated.

.TP
\fB-blackandwhite\fP
Produce a single-image random-dot black-and-white stereogram.
This is the default.

.TP
\fB-grayscale\fP
Produce a single-image random-dot grayscale stereogram.

.TP
\fB-color\fP
Produce a single-image random-dot color stereogram.

.TP
\fB-maxval=\fP\fIvalue\fP
Designate the maximum value of each gray/color component, i.e.
the color resolution. Smaller values make the output image have
smaller numbers of unique grays/colors. If you don't specify
\fB-maxval\fP, \fBpamstereogram\fP uses the maxval of the input
image. This option has no effect with \fB-blackandwhite\fP.

.TP
\fB-patfile=\fP\fIpnmfile\fP
Specify an image to use as a repeated background pattern for
the stereogram instead of a random-dot pattern. Intricate images
generally produce a crisper 3-D effect that simpler images. The
output file will have the same maxval and format (black and white,
grayscale or color) as the pattern file. You cannot specify the
\fB-patfile\fP option along with \fB-blackandwhite\fP,
\fB-grayscale\fP, \fB-color\fP, or \fB-maxval\fP.

.TP
\fB-xshift=\fP\fIpixels\fP
Shift the pattern image (designated by \fB-patfile\fP) to the
right by \fIpixels\fP pixels (default: 0).
<!-- \fB-xshift\fP is helpful when creating "true-color" stereograms. -->
This option is valid only along with \fB-patfile\fP.

.TP
\fB-yshift\fP \fIpixels\fP
Shift the pattern image (designated by \fB-patfile\fP)
downwards by \fIpixels\fP pixels (default: 0). This option is
valid only along with \fB-patfile\fP.

.TP
\fB-magnifypat=\fP\fIscale\fP
Magnify each pixel in the pattern file or each random dot by
integral scaling factor \fIscale\fP. Note that
\fBpamstereogram\fP applies the pattern magnification
\fIafter\fP pattern shifting (\fB-xshift\fP and
\fB-yshift\fP).

.TP
\fB-guidesize=\fP\fIpixels\fP
Draw a pair of \fIpixels\fP by \fIpixels\fP black squares on
a white background underneath the stereogram proper. These squares
help you guide your eyes into proper focus to view the 3-D image.
The trick is to focus your eyes some distance behind the image,
causing you to see four black squares, then continue altering your
focus distance until the middle two black squares fuse into a
single black square. At that point, a crisp, 3-D image will appear.
.sp
If \fIpixels\fP is negative, \fBpamstereogram\fP will draw the
guide squares above the stereogram instead of below it. If
\fIpixels\fP is zero (the default), \fBpamstereogram\fP will draw
no guide squares.


.TP
\fB-dpi=\fP\fIresolution\fP
Specify the resolution of the output device in dots per inch.
The default is 96 DPI, which represents a fairly crisp screen
resolution.

.TP
\fB-crosseyed\fP
Invert the gray levels in the height map (input image) so that
the 3-D image pops out of the page where it would otherwise sink
into the page and vice versa. Some people are unable to diverge
their eyes and can only cross them. The \fB-crosseyed\fP option
enables such people to see the 3-D image as intended.

.TP
\fB-makemask\fP
Instead of a stereogram, output a PAM mask image showing
coloring constraints. New pixels will be taken from the pattern
file where the mask is black. Copies of existing pixels will be
taken from the pattern file where the mask is white. The
\fB-makemask\fP option can be used to help create more
sophisticated pattern files (to use with \fB-patfile\fP) Note that
\fB-makemask\fP ignores \fB-magnifypat\fP; it always produces
masks that assume a pattern magnification of 1.

.TP
\fB-eyesep=\fP\fIinches\fP
Specify the separation in inches between your eyes. The
default, 2.5 inches (6.4 cm), should be sufficient for most people
and probably doesn't need to be changed.

.TP
\fB-depth=\fP\fIfraction\fP
Specify the output image's depth of field. That is,
\fIfraction\fP represents the fractional distance of the near
plane from the far plane. Smaller numbers make the 3-D image easier
to perceive but flatter. Larger numbers make the 3-D image more
difficult to perceive but deeper. The default, 0.3333, generally
works fairly well.

.TP
\fB-randomseed=\fP\fIinteger\fP
Specify a seed to be used for the random number generator.
The default is to use a seed based on the time of day, to one second
granularity.
.sp
It is useful to specify the seed if you want to create reproducible
results.  With the same random seed, you should get identical results
every time you run \fBpamstereogram\fP.
.sp
This is irrelevant if you use a pattern file (\fB-patfile\fP
option), because there is no random element to \fBpamstereogram\fP's
behavior.
.sp
This option was new in Netpbm 10.32 (Februrary 2006).




.UN parameters
.SH PARAMETERS
.PP
The only parameter, \fIinfile\fP, is the name of an input file
that is a height map image. If you don't specify \fIinfile\fP, the
input is from standard input.
.PP
The input is a PAM image of depth 1. Each sample represents the
distance from the eye that the 3-D image at that location should
be. Higher numbers mean further from the eye.
.PP
\fBpamstereogram\fP pays no attention the the image's tuple
type and ignores all planes other than plane 0.
.PP
Like any Netpbm program, \fBpamstereogram\fP will accept PNM
input as if it were the PAM equivalent.
.PP
A good initial test is to input an image consisting of a solid
shape of distance 0 within a large field of maximum distance (e.g., a
black square on a white background).



.UN examples
.SH EXAMPLES
.PP
Generate a SIRDS out of small, brightly colored squares and
prepare it for display on an 87 DPI monitor:
.nf
   pamstereogram heightmap.pam \
                 -dpi 87 -verbose -color -maxval 1 -magnifypat 3 \
                 >3d.pam
.fi
.PP
Generate a SIS by tiling a PPM file (a prior run with
\fB-verbose\fP indicates how wide the pattern file should be for
seamless tiling, although any width is acceptable for producing
SISes):
.nf
   pamstereogram myheights.pam -patfile mypattern.ppm >mysis.pam
.fi


.UN seealso
.SH SEE ALSO

.IP \(bu

.BR pam (1)

.IP \(bu

.BR ppm3d (1)

.IP \(bu
Harold W. Thimbleby, Stuart Inglis, and Ian H. Witten.
\fIDisplaying 3D Images: Algorithms for Single Image Random Dot
Stereograms\fP. In IEEE Computer, \fB27\fP(10):38-48,
October 1994.  DOI 
.UR http://dx.doi.org/10.1109/2.318576
10.1109/2.318576
.UE
\&.




.UN history
.SH HISTORY
.PP
\fBpamstereogram\fP was new in Netpbm 10.22 (April 2004),
but probably broken beyond usability until 
Netpbm 10.32 (Februrary 2006) and Netpbm 10.26.23 (January 2006).


.UN author
.SH AUTHOR
.PP
Copyright (C) 2006 Scott Pakin, <a href=
"mailto:scott+pbm@pakin.org">scott+pbm@pakin.org</a>.
.UN contents
.SH Table Of Contents

.IP \(bu

.UR #synopsis
SYNOPSIS
.UE
\&
.IP \(bu

.UR #description
DESCRIPTION
.UE
\&
.IP \(bu

.UR #options
OPTIONS
.UE
\&
.IP \(bu

.UR #parameters
PARAMETERS
.UE
\&
.IP \(bu

.UR #examples
EXAMPLES
.UE
\&
.IP \(bu

.UR #seealso
SEE ALSO
.UE
\&
.IP \(bu

.UR #history
HISTORY
.UE
\&
.IP \(bu

.UR #author
AUTHOR
.UE
\&
